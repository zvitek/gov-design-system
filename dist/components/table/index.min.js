/*! Gov v0.1.0 | MIT License | github.com/gov/gov */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Table={})}(this,function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){n(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e){return e.split(".").reduce(function(t,e){return t?t[e]:null},t)}function a(t,e,n){if(!t)return-1;if(!n||"function"!=typeof n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(t[i],e))return i;return-1}var l=function(t){return"object"===e(t)&&!Array.isArray(t)},u=function t(e,i){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s||!Object.assign){var r=Object.getOwnPropertyNames(i).map(function(o){return n({},o,function(t){return l(i[t])&&null!==e&&e.hasOwnProperty(t)&&l(e[t])}(o)?t(e[o],i[o],s):i[o])}).reduce(function(t,e){return o({},t,{},e)},{});return o({},e,{},r)}return Object.assign(e,i)};function c(t){return t&&t._isVue}function h(t,e){var n;return JSON.parse(JSON.stringify(t)).sort((n=e,function(t,e){return n.map(function(n){var i=1;"-"===n[0]&&(i=-1,n=n.substring(1));var o=r(t,n),s=r(e,n);return o>s?i:o<s?-i:0}).reduce(function(t,e){return t||e},0)}))}function d(t){return void 0===t?null:isNaN(t)?t:t+"px"}var f=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*i));return e};var p,m={defaultContainerElement:null,defaultIconPack:"mdi",defaultIconComponent:null,defaultInputAutocomplete:"on",defaultLinkTags:["a","button","input","router-link","nuxt-link","n-link","RouterLink","NuxtLink","NLink"],defaultBreadcrumbTag:"a",customIconPacks:null},g={props:{validationMessage:{type:[String,Array],required:!1,default:null}},mounted:function(){var t=this;this.$nextTick(function(){return t.prepareValidity()})},watch:{validationMessage:function(){this.prepareValidity()}},computed:{parentField:function(){for(var t=this.$parent,e=0;e<3;e++)t&&!t.$data._isField&&(t=t.$parent);return t},childField:function(){var t=this.$children.filter(function(t){return t.$data._isField});return t.length?t[0]:null}},methods:{prepareValidity:function(){var t=this.validationMessage;Array.isArray(t)&&t.length||"string"==typeof t?this.setValidity(t):this.setValidity(null)},setValidity:function(t){var e=this;this.$nextTick(function(){var n=e.childField||e.parentField;n&&(n.errorMessage=t)})}}};var v=function(t,e,n,i,o,s,r,a,l,u){"boolean"!=typeof r&&(l=a,a=r,r=!1);var c,h="function"==typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,o&&(h.functional=!0)),i&&(h._scopeId=i),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=c):e&&(c=r?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),c)if(h.functional){var d=h.render;h.render=function(t,e){return c.call(e),d(t,e)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,c):[c]}return n};const b=v({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.computedValue,expression:"computedValue"}],ref:"input",staticClass:"gov-form-control__checkbox",attrs:{type:"checkbox",autocomplete:t.autocomplete,disabled:t.disabled,required:t.required,name:t.name,id:t.uniqueId,"true-value":t.trueValue,"false-value":t.falseValue,"aria-labelledby":t.ariaLabelledby},domProps:{indeterminate:t.indeterminate,checked:t.computedValue===t.trueValue,value:t.nativeValue,checked:Array.isArray(t.computedValue)?t._i(t.computedValue,t.nativeValue)>-1:t._q(t.computedValue,t.trueValue)},on:{click:function(t){t.stopPropagation()},change:function(e){var n=t.computedValue,i=e.target,o=i.checked?t.trueValue:t.falseValue;if(Array.isArray(n)){var s=t.nativeValue,r=t._i(n,s);i.checked?r<0&&(t.computedValue=n.concat([s])):r>-1&&(t.computedValue=n.slice(0,r).concat(n.slice(r+1)))}else t.computedValue=o}}}),n("label",{ref:"label",staticClass:"gov-form-control__label",attrs:{for:t.uniqueId,id:t.ariaLabelledby,disabled:t.disabled},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.label.click())}}},[t._t("default")],2),n("span",{staticClass:"gov-form-control__indicator"})])},staticRenderFns:[]},void 0,{name:"GovCheckbox",mixins:[{mixins:[g],props:{value:[String,Number,Boolean,Function,Object,Array],nativeValue:[String,Number,Boolean,Function,Object,Array],disabled:Boolean,required:Boolean,error:Boolean,name:String,customUniqueId:{type:String,required:!1,default:null}},data:function(){return{newValue:this.value,uniqueId:null}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},wrapperClass:function(){return{"gov-form-control--error":this.error}},parentField:function(){for(var t=this.$parent,e=0;e<3;e++)t&&!t.$data._isField&&(t=t.$parent);return t}},watch:{value:function(t){this.newValue=t},uniqueId:function(){this.swtUniqueId()}},mounted:function(){this.uniqueId=this.customUniqueId||"radio_"+f()},methods:{focus:function(){this.disabled||(this.$refs.input.focus(),this.change())},change:function(){this.$refs.input.checked?this.newValue=this.falseValue:this.newValue=this.trueValue,this.computedValue=this.newValue},swtUniqueId:function(){var t=this;this.$nextTick(function(){t.parentField&&(t.parentField.uniqueId=t.uniqueId)})}}}],props:{indeterminate:Boolean,ariaLabelledby:String,trueValue:{type:[String,Number,Boolean,Function,Object,Array],default:!0},falseValue:{type:[String,Number,Boolean,Function,Object,Array],default:!1},autocomplete:{type:String,default:"on"}},data:function(){return{_isCheckbox:!0}}},void 0,!1,void 0,!1,void 0,void 0,void 0);var w={sizes:{default:"mdi-24px","is-small":null,"is-medium":"mdi-36px","is-large":"mdi-48px"},iconPrefix:"mdi-"},y={iconPrefix:"gov-icon--"},C={iconPrefix:"gov-complex-icon--"},k=function(){var t=m&&m.defaultIconComponent?"":"fa-";return{sizes:{default:null,"is-small":null,"is-medium":t+"lg","is-large":t+"2x"},iconPrefix:t,internalIcons:{information:"info-circle",alert:"exclamation-triangle","alert-circle":"exclamation-circle","chevron-right":"angle-right","chevron-left":"angle-left","chevron-down":"angle-down","eye-off":"eye-slash","menu-down":"caret-down","menu-up":"caret-up","close-circle":"times-circle"}}};const S=v({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.gov||t.govComplex?n("span",{class:[t.newPack,t.newIcon]}):n("span",{staticClass:"icon",class:[t.size]},[t.useIconComponent?n(t.useIconComponent,{tag:"component",class:[t.customClass],attrs:{icon:[t.newPack,t.newIcon],size:t.newCustomSize}}):n("i",{class:[t.newPack,t.newIcon,t.newCustomSize,t.customClass]})],1)},staticRenderFns:[]},void 0,{name:"GovIcon",props:{component:String,pack:String,icon:String,size:String,customSize:String,customClass:String,both:Boolean,gov:{type:Boolean,default:!1},govComplex:{type:Boolean,default:!1}},computed:{iconConfig:function(){var t;return(t={mdi:w,fa:k(),fas:k(),far:k(),fad:k(),fab:k(),fal:k(),"gov-icon":y,"gov-complex-icon":C},m&&m.customIconPacks&&(t=u(t,m.customIconPacks,!0)),t)[this.newPack]},iconPrefix:function(){return this.iconConfig&&this.iconConfig.iconPrefix?this.iconConfig.iconPrefix:""},newIcon:function(){return"".concat(this.iconPrefix).concat(this.getEquivalentIconOf(this.icon))},newPack:function(){return this.gov?"gov-icon":this.govComplex?"gov-complex-icon":this.pack||m.defaultIconPack},newCustomSize:function(){return this.customSize||this.customSizeByPack},customSizeByPack:function(){if(this.iconConfig&&this.iconConfig.sizes){if(this.size&&void 0!==this.iconConfig.sizes[this.size])return this.iconConfig.sizes[this.size];if(this.iconConfig.sizes.default)return this.iconConfig.sizes.default}return null},useIconComponent:function(){return this.component||m.defaultIconComponent}},methods:{getEquivalentIconOf:function(t){return this.both&&this.iconConfig&&this.iconConfig.internalIcons&&this.iconConfig.internalIcons[t]?this.iconConfig.internalIcons[t]:t}}},void 0,!1,void 0,!1,void 0,void 0,void 0);var D={mixins:[g],props:{autocomplete:{type:String,required:!1,default:void 0},maxlength:{type:[Number,String],required:!1,default:void 0},customUniqueId:{type:[String,Number],required:!1,default:null}},data:function(){return{uniqueId:null,isFocused:!1}},mounted:function(){this.uniqueId=this.customUniqueId||"input_"+f()},watch:{uniqueId:function(){this.swtUniqueId()}},computed:{parentField:function(){for(var t=this.$parent,e=0;e<3;e++)t&&!t.$data._isField&&(t=t.$parent);return t}},methods:{focus:function(){var t=this.getElement();void 0!==t&&this.$nextTick(function(){t&&t.focus()})},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},getElement:function(){for(var t=this.$refs[this.$data._elementRef];c(t);)t=t.$refs[t.$data._elementRef];return t},setNotEmpty:function(t){var e=this;this.$nextTick(function(){e.parentField&&(e.parentField.notEmpty=t)})},swtUniqueId:function(){var t=this;this.$nextTick(function(){t.parentField&&(t.parentField.uniqueId=t.uniqueId)})}}};const R=v({render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",t._b({ref:"input",staticClass:"gov-form-control__input",class:[t.customClass],attrs:{type:t.type,autocomplete:t.newAutocomplete,maxlength:t.maxlength,id:t.uniqueId},domProps:{value:t.computedValue},on:{input:t.onInput,change:t.onChange,blur:t.newOnBlur,focus:t.newOnFocus}},"input",t.$attrs,!1))},staticRenderFns:[]},void 0,{name:"GovInput",mixins:[{mixins:[D],inheritAttrs:!1,props:{value:[Number,String],type:{type:String,default:"text"},lazy:{type:Boolean,default:!1},whisperer:{type:Boolean,default:!1},customClass:{type:String,default:""}},data:function(){return{newValue:this.value,enforceEmptyValue:!1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){this.newValue=t,this.$emit("input",t)}},valueLength:function(){return"string"==typeof this.computedValue?this.computedValue.length:"number"==typeof this.computedValue?this.computedValue.toString().length:0}},watch:{value:function(t){this.newValue=t,this.calculateNotEmpty()}},methods:{onInput:function(t){if(!this.lazy){var e=t.target.value;this.updateValue(e)}},onChange:function(t){if(this.lazy){var e=t.target.value;this.updateValue(e)}},newOnBlur:function(t){this.onBlur(t),this.calculateNotEmpty()},newOnFocus:function(t){this.onFocus(t),this.calculateNotEmpty()},updateValue:function(t){this.computedValue=t},calculateNotEmpty:function(){this.setNotEmpty(this.isFocused||this.valueLength||this.enforceEmptyValue)}},mounted:function(){this.calculateNotEmpty()}},D],computed:{newAutocomplete:function(){return this.autocomplete||m.defaultInputAutocomplete}},watch:{type:function(){this.resolveNativeTypes()}},methods:{resolveNativeTypes:function(){-1!==["date","time"].indexOf(this.type)&&(this.enforceEmptyValue=!0,this.calculateNotEmpty())}},mounted:function(){var t=this;this.$nextTick(function(){t.whisperer&&t.$refs.input.addEventListener("blur",function(){t.isFocused=!1,t.calculateNotEmpty()})}),this.resolveNativeTypes()}},void 0,!1,void 0,!1,void 0,void 0,void 0);var x={name:"GovSlotComponent",props:{component:{type:Object,required:!0},name:{type:String,default:"default"},scoped:{type:Boolean},props:{type:Object},tag:{type:String,default:"div"},event:{type:String,default:"hook:updated"}},methods:{refresh:function(){this.$forceUpdate()}},created:function(){c(this.component)&&this.component.$on(this.event,this.refresh)},beforeDestroy:function(){c(this.component)&&this.component.$off(this.event,this.refresh)},render:function(t){if(c(this.component))return t(this.tag,{},this.scoped?this.component.$scopedSlots[this.name](this.props):this.component.$slots[this.name])}};const $=v({},void 0,{name:"GovTableColumn",inject:{$table:{name:"$table",default:!1}},props:{label:String,customKey:[String,Number],field:String,meta:[String,Number,Boolean,Function,Object,Array],width:[Number,String],numeric:Boolean,centered:Boolean,searchable:Boolean,sortable:Boolean,visible:{type:Boolean,default:!0},subheading:[String,Number],customSort:Function,customSearch:Function,sticky:Boolean,headerSelectable:Boolean,headerClass:String,cellClass:String,thAttrs:{type:Function,default:function(){return{}}},tdAttrs:{type:Function,default:function(){return{}}}},data:function(){return{newKey:this.customKey||this.label,_isTableColumn:!0}},computed:{thClasses:function(){var t=this.thAttrs(this),e=[this.headerClass,{"is-sortable":this.sortable,"is-sticky":this.sticky,"is-unselectable":this.isHeaderUnSelectable}];return t&&t.class&&e.push(t.class),e},thStyle:function(){var t=this.thAttrs(this),e=[this.style];return t&&t.style&&e.push(t.style),e},rootClasses:function(){return[this.cellClass,{"has-text-right":this.numeric&&!this.centered,"has-text-centered":this.centered,"is-sticky":this.sticky}]},style:function(){return{width:d(this.width)}},hasDefaultSlot:function(){return!!this.$scopedSlots.default},isHeaderUnSelectable:function(){return!this.headerSelectable&&this.sortable}},methods:{getRootClasses:function(t){var e=this.tdAttrs(t,this),n=[this.rootClasses];return e&&e.class&&n.push(e.class),n},getRootStyle:function(t){var e=this.tdAttrs(t,this),n=[];return e&&e.style&&n.push(e.style),n}},created:function(){if(!this.$table)throw this.$destroy(),new Error("You should wrap bTableColumn on a bTable");this.$table.refreshSlots()},render:function(t){return null}},void 0,void 0,void 0,!1,void 0,void 0,void 0);var _;const I=v({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gov-table"},[t._t("default"),n("div",{staticClass:"gov-table-cover",class:t.tableWrapperClasses,style:t.tableStyle},[n("table",{staticClass:"gov-table gov-table--mobile-block",class:t.tableClasses,attrs:{tabindex:!!t.focusable&&0},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:e.target!==e.currentTarget?null:(e.preventDefault(),t.pressedArrow(-1))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:e.target!==e.currentTarget?null:(e.preventDefault(),t.pressedArrow(1))}]}},[t.caption?n("caption",{directives:[{name:"show",rawName:"v-show",value:t.showCaption,expression:"showCaption"}]},[t._v(t._s(t.caption))]):t._e(),t.newColumns.length&&t.showHeader?n("thead",[n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t.checkable&&"left"===t.checkboxPosition?n("th",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[t.headerCheckable?[n("gov-checkbox",{attrs:{autocomplete:"off",value:t.isAllChecked,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})]:t._e()],2):t._e(),t._l(t.visibleColumns,function(e,i){return n("th",t._b({key:e.newKey+":"+i+"header",class:[e.thClasses,{"is-current-sort":!t.sortMultiple&&t.currentSortColumn===e}],style:e.thStyle,attrs:{draggable:t.canDragColumn},on:{click:function(n){return n.stopPropagation(),t.sort(e,null,n)},dragstart:function(n){return t.handleColumnDragStart(n,e,i)},dragend:function(n){return t.handleColumnDragEnd(n,e,i)},drop:function(n){return t.handleColumnDrop(n,e,i)},dragover:function(n){return t.handleColumnDragOver(n,e,i)},dragleave:function(n){return t.handleColumnDragLeave(n,e,i)}}},"th",e.thAttrs(e),!1),[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered}},[e.$scopedSlots&&e.$scopedSlots.header?[n("gov-slot-component",{attrs:{component:e,scoped:"",name:"header",tag:"span",props:{column:e,index:i}}})]:[n("span",{staticClass:"is-relative"},[t._v(" "+t._s(e.label)+" "),t.sortMultiple&&t.sortMultipleDataComputed&&t.sortMultipleDataComputed.length>0&&t.sortMultipleDataComputed.filter(function(t){return t.field===e.field}).length>0?[n("gov-icon",{class:{"is-desc":"desc"===t.sortMultipleDataComputed.filter(function(t){return t.field===e.field})[0].order},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}}),t._v(" "+t._s(t.findIndexOfSortData(e))+" "),n("button",{staticClass:"delete is-small multi-sort-cancel-icon",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),t.removeSortingPriority(e)}}})]:n("gov-icon",{staticClass:"sort-icon",class:{"is-desc":!t.isAsc,"is-invisible":t.currentSortColumn!==e},attrs:{icon:t.sortIcon,pack:t.iconPack,both:"",size:t.sortIconSize}})],2)]],2)])}),t.checkable&&"right"===t.checkboxPosition?n("th",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[t.headerCheckable?[n("gov-checkbox",{attrs:{autocomplete:"off",value:t.isAllChecked,disabled:t.isAllUncheckable},nativeOn:{change:function(e){return t.checkAll(e)}}})]:t._e()],2):t._e()],2),t.hasCustomSubheadings?n("tr",{staticClass:"is-subheading"},[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._l(t.visibleColumns,function(e,i){return n("th",{key:e.newKey+":"+i+"subheading",style:e.style},[n("div",{staticClass:"th-wrap",class:{"is-numeric":e.numeric,"is-centered":e.centered}},[e.$scopedSlots&&e.$scopedSlots.subheading?[n("gov-slot-component",{attrs:{component:e,scoped:"",name:"subheading",tag:"span",props:{column:e,index:i}}})]:[t._v(t._s(e.subheading))]],2)])}),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e(),t.hasSearchablenewColumns?n("tr",[t.showDetailRowIcon?n("th",{attrs:{width:"40px"}}):t._e(),t.checkable&&"left"===t.checkboxPosition?n("th"):t._e(),t._l(t.visibleColumns,function(e,i){return n("th",t._b({key:e.newKey+":"+i+"searchable",class:{"is-sticky":e.sticky},style:e.thStyle},"th",e.thAttrs(e),!1),[n("div",{staticClass:"th-wrap"},[e.searchable?[e.$scopedSlots&&e.$scopedSlots.searchable?[n("gov-slot-component",{attrs:{component:e,scoped:!0,name:"searchable",tag:"span",props:{column:e,filters:t.filters}}})]:n("b-input",{attrs:{type:e.numeric?"number":"text"},nativeOn:t._d({},[t.filtersEvent,function(e){return t.onFiltersEvent(e)}]),model:{value:t.filters[e.field],callback:function(n){t.$set(t.filters,e.field,n)},expression:"filters[column.field]"}})]:t._e()],2)])}),t.checkable&&"right"===t.checkboxPosition?n("th"):t._e()],2):t._e()]):t._e(),n("tbody",[t._l(t.visibleData,function(e,i){return[n("tr",{key:t.customRowKey?e[t.customRowKey]:i,class:[t.rowClass(e,i),{"is-selected":t.isRowSelected(e,t.selected),"is-checked":t.isRowChecked(e)}],attrs:{draggable:t.canDragRow},on:{click:function(n){return t.selectRow(e)},dblclick:function(n){return t.$emit("dblclick",e)},mouseenter:function(n){return t.emitEventForRow("mouseenter",n,e)},mouseleave:function(n){return t.emitEventForRow("mouseleave",n,e)},contextmenu:function(n){return t.$emit("contextmenu",e,n)},dragstart:function(n){return t.handleDragStart(n,e,i)},dragend:function(n){return t.handleDragEnd(n,e,i)},drop:function(n){return t.handleDrop(n,e,i)},dragover:function(n){return t.handleDragOver(n,e,i)},dragleave:function(n){return t.handleDragLeave(n,e,i)}}},[t.showDetailRowIcon?n("td",{staticClass:"chevron-cell"},[t.hasDetailedVisible(e)?n("a",{attrs:{role:"button"},on:{click:function(n){return n.stopPropagation(),t.toggleDetails(e)}}},[n("gov-icon",{class:{"is-expanded":t.isVisibleDetailRow(e)},attrs:{icon:t.detailIcon,pack:t.iconPack,both:""}})],1):t._e()]):t._e(),t.checkable&&"left"===t.checkboxPosition?n("td",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[n("gov-checkbox",{attrs:{autocomplete:"off",disabled:!t.isRowCheckable(e),value:t.isRowChecked(e)},nativeOn:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.checkRow(e,i,n)}}})],1):t._e(),t._l(t.visibleColumns,function(o,s){return[o.$scopedSlots&&o.$scopedSlots.default?[n("gov-slot-component",t._b({key:o.newKey+":"+i+":"+s,class:o.getRootClasses(e),style:o.getRootStyle(e),attrs:{component:o,scoped:"",name:"default",tag:"td","data-label":o.label,props:{row:e,column:o,index:i,colindex:s,toggleDetails:t.toggleDetails}},nativeOn:{click:function(n){return t.$emit("cellclick",e,o,i,s)}}},"gov-slot-component",o.tdAttrs(e,o),!1))]:t._e()]}),t.checkable&&"right"===t.checkboxPosition?n("td",{class:["checkbox-cell",{"is-sticky":t.stickyCheckbox}]},[n("gov-checkbox",{attrs:{autocomplete:"off",disabled:!t.isRowCheckable(e),value:t.isRowChecked(e)},nativeOn:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.checkRow(e,i,n)}}})],1):t._e()],2),n("transition",{key:(t.customRowKey?e[t.customRowKey]:i)+"detail",attrs:{name:t.detailTransition}},[t.isActiveDetailRow(e)?n("tr",{staticClass:"detail"},[n("td",{attrs:{colspan:t.columnCount}},[n("div",{staticClass:"detail-container"},[t._t("detail",null,{row:e,index:i})],2)])]):t._e()]),t.isActiveCustomDetailRow(e)?t._t("detail",null,{row:e,index:i}):t._e()]}),t.visibleData.length?t._e():n("tr",{staticClass:"is-empty"},[n("td",{attrs:{colspan:t.columnCount}},[t._t("empty")],2)])],2),void 0!==t.$slots.footer?n("tfoot",[n("tr",{staticClass:"table-footer"},[t.hasCustomFooterSlot()?t._t("footer"):n("th",{attrs:{colspan:t.columnCount}},[t._t("footer")],2)],2)]):t._e()])])],2)},staticRenderFns:[]},void 0,{name:"GovTable",components:(_={},n(_,b.name,b),n(_,S.name,S),n(_,R.name,R),n(_,x.name,x),n(_,$.name,$),_),inheritAttrs:!1,provide:function(){return{$table:this}},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},bordered:Boolean,striped:Boolean,narrowed:Boolean,hoverable:Boolean,loading:Boolean,detailed:Boolean,checkable:Boolean,headerCheckable:{type:Boolean,default:!0},checkboxPosition:{type:String,default:"left",validator:function(t){return["left","right"].indexOf(t)>=0}},stickyCheckbox:{type:Boolean,default:!1},selected:Object,isRowSelectable:{type:Function,default:function(){return!0}},focusable:Boolean,customIsChecked:Function,isRowCheckable:{type:Function,default:function(){return!0}},checkedRows:{type:Array,default:function(){return[]}},mobileCards:{type:Boolean,default:!0},defaultSort:[String,Array],defaultSortDirection:{type:String,default:"asc"},sortIcon:{type:String,default:"arrow-up"},sortIconSize:{type:String,default:"is-small"},sortMultiple:{type:Boolean,default:!1},sortMultipleData:{type:Array,default:function(){return[]}},sortMultipleKey:{type:String,default:null},paginated:Boolean,currentPage:{type:Number,default:1},perPage:{type:[Number,String],default:20},showDetailIcon:{type:Boolean,default:!0},detailIcon:{type:String,default:"chevron-right"},paginationPosition:{type:String,default:"bottom",validator:function(t){return["bottom","top","both"].indexOf(t)>=0}},paginationRounded:Boolean,backendSorting:Boolean,backendFiltering:Boolean,rowClass:{type:Function,default:function(){return""}},openedDetailed:{type:Array,default:function(){return[]}},hasDetailedVisible:{type:Function,default:function(){return!0}},detailKey:{type:String,default:""},detailTransition:{type:String,default:""},customDetailRow:{type:Boolean,default:!1},backendPagination:Boolean,total:{type:[Number,String],default:0},iconPack:String,mobileSortPlaceholder:String,customRowKey:String,draggable:{type:Boolean,default:!1},draggableColumn:{type:Boolean,default:!1},scrollable:Boolean,ariaNextLabel:String,ariaPreviousLabel:String,ariaPageLabel:String,ariaCurrentLabel:String,stickyHeader:Boolean,height:[Number,String],filtersEvent:{type:String,default:""},cardLayout:Boolean,showHeader:{type:Boolean,default:!0},debounceSearch:Number,caption:String,showCaption:{type:Boolean,default:!0}},data:function(){return{sortMultipleDataLocal:[],getValueByPath:r,visibleDetailRows:this.openedDetailed,newData:this.data,newDataTotal:this.backendPagination?this.total:this.data.length,newCheckedRows:s(this.checkedRows),lastCheckedRowIndex:null,newCurrentPage:this.currentPage,currentSortColumn:{},isAsc:!0,filters:{},defaultSlots:[],firstTimeSort:!0,_isTable:!0,isDraggingRow:!1,isDraggingColumn:!1}},computed:{sortMultipleDataComputed:function(){return this.backendSorting?this.sortMultipleData:this.sortMultipleDataLocal},tableClasses:function(){return{"is-bordered":this.bordered,"is-striped":this.striped,"is-narrow":this.narrowed,"is-hoverable":(this.hoverable||this.focusable)&&this.visibleData.length}},tableWrapperClasses:function(){return{"has-mobile-cards":this.mobileCards,"has-sticky-header":this.stickyHeader,"is-card-list":this.cardLayout,"table-container":this.isScrollable}},tableStyle:function(){return{height:d(this.height)}},visibleData:function(){if(!this.paginated)return this.newData;var t=this.newCurrentPage,e=this.perPage;if(this.newData.length<=e)return this.newData;var n=(t-1)*e,i=parseInt(n,10)+parseInt(e,10);return this.newData.slice(n,i)},visibleColumns:function(){return this.newColumns?this.newColumns.filter(function(t){return t.visible||void 0===t.visible}):this.newColumns},isAllChecked:function(){var t=this,e=this.visibleData.filter(function(e){return t.isRowCheckable(e)});if(0===e.length)return!1;var n=e.some(function(e){return a(t.newCheckedRows,e,t.customIsChecked)<0});return!n},isAllUncheckable:function(){var t=this;return 0===this.visibleData.filter(function(e){return t.isRowCheckable(e)}).length},hasSortablenewColumns:function(){return this.newColumns.some(function(t){return t.sortable})},hasSearchablenewColumns:function(){return this.newColumns.some(function(t){return t.searchable})},hasCustomSubheadings:function(){return!(!this.$scopedSlots||!this.$scopedSlots.subheading)||this.newColumns.some(function(t){return t.subheading||t.$scopedSlots&&t.$scopedSlots.subheading})},columnCount:function(){var t=this.visibleColumns.length;return t+=this.checkable?1:0,t+=this.detailed&&this.showDetailIcon?1:0},showDetailRowIcon:function(){return this.detailed&&this.showDetailIcon},isScrollable:function(){return!!this.scrollable||!!this.newColumns&&this.newColumns.some(function(t){return t.sticky})},newColumns:function(){var t=this;return this.columns&&this.columns.length?this.columns.map(function(e){var n=new(p.extend($))({parent:t,propsData:e});return n.$scopedSlots={default:function(t){return[n.$createElement("span",{domProps:{innerHTML:r(t.row,e.field)}})]}},n}):this.defaultSlots.filter(function(t){return t.componentInstance&&t.componentInstance.$data&&t.componentInstance.$data._isTableColumn}).map(function(t){return t.componentInstance})},canDragRow:function(){return this.draggable&&!this.isDraggingColumn},canDragColumn:function(){return this.draggableColumn&&!this.isDraggingRow}},watch:{data:function(t){var e=this;this.newData=t,this.backendFiltering||(this.newData=t.filter(function(t){return e.isRowFiltered(t)})),this.backendSorting||this.sort(this.currentSortColumn,!0),this.backendPagination||(this.newDataTotal=this.newData.length)},total:function(t){this.backendPagination&&(this.newDataTotal=t)},currentPage:function(t){this.newCurrentPage=t},newCurrentPage:function(t){this.$emit("update:currentPage",t)},checkedRows:function(t){this.newCheckedRows=s(t)},debounceSearch:{handler:function(t){var e,n,i,o;this.debouncedHandleFiltersChange=(e=this.handleFiltersChange,n=t,function(){var t=this,s=arguments,r=i&&!o;clearTimeout(o),o=setTimeout(function(){o=null,i||e.apply(t,s)},n),r&&e.apply(t,s)})},immediate:!0},filters:{handler:function(t){this.debounceSearch?this.debouncedHandleFiltersChange(t):this.handleFiltersChange(t)},deep:!0},openedDetailed:function(t){this.visibleDetailRows=t}},methods:{onFiltersEvent:function(t){this.$emit("filters-event-".concat(this.filtersEvent),{event:t,filters:this.filters})},handleFiltersChange:function(t){var e=this;this.backendFiltering?this.$emit("filters-change",t):(this.newData=this.data.filter(function(t){return e.isRowFiltered(t)}),this.backendPagination||(this.newDataTotal=this.newData.length),this.backendSorting||(this.sortMultiple&&this.sortMultipleDataLocal&&this.sortMultipleDataLocal.length>0?this.doSortMultiColumn():Object.keys(this.currentSortColumn).length>0&&this.doSortSingleColumn(this.currentSortColumn)))},findIndexOfSortData:function(t){var e=this.sortMultipleDataComputed.filter(function(e){return e.field===t.field})[0];return this.sortMultipleDataComputed.indexOf(e)+1},removeSortingPriority:function(t){if(this.backendSorting)this.$emit("sorting-priority-removed",t.field);else{this.sortMultipleDataLocal=this.sortMultipleDataLocal.filter(function(e){return e.field!==t.field});var e=this.sortMultipleDataLocal.map(function(t){return(t.order&&"desc"===t.order?"-":"")+t.field});this.newData=h(this.newData,e)}},resetMultiSorting:function(){this.sortMultipleDataLocal=[],this.currentSortColumn={},this.newData=this.data},sortBy:function(t,e,n,i){return n&&"function"==typeof n?s(t).sort(function(t,e){return n(t,e,i)}):s(t).sort(function(t,n){var o=r(t,e),s=r(n,e);return"boolean"==typeof o&&"boolean"==typeof s?i?o-s:s-o:o||0===o?s||0===s?o===s?0:(o="string"==typeof o?o.toUpperCase():o,s="string"==typeof s?s.toUpperCase():s,i?o>s?1:-1:o>s?-1:1):-1:1})},sortMultiColumn:function(t){if(this.currentSortColumn={},!this.backendSorting){var e=this.sortMultipleDataLocal.filter(function(e){return e.field===t.field})[0];e?e.order="desc"===e.order?"asc":"desc":this.sortMultipleDataLocal.push({field:t.field,order:t.isAsc}),this.doSortMultiColumn()}},doSortMultiColumn:function(){var t=this.sortMultipleDataLocal.map(function(t){return(t.order&&"desc"===t.order?"-":"")+t.field});this.newData=h(this.newData,t)},sort:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t&&t.sortable&&(!this.backendSorting&&this.sortMultiple&&(this.sortMultipleKey&&n[this.sortMultipleKey]||!this.sortMultipleKey)?e?this.doSortMultiColumn():this.sortMultiColumn(t):(this.sortMultiple&&(this.sortMultipleDataLocal=[]),e||(this.isAsc=t===this.currentSortColumn?!this.isAsc:"desc"!==this.defaultSortDirection.toLowerCase()),this.firstTimeSort||this.$emit("sort",t.field,this.isAsc?"asc":"desc",n),this.backendSorting||this.doSortSingleColumn(t),this.currentSortColumn=t))},doSortSingleColumn:function(t){this.newData=this.sortBy(this.newData,t.field,t.customSort,this.isAsc)},isRowSelected:function(t,e){return!!e&&(this.customRowKey?t[this.customRowKey]===e[this.customRowKey]:t===e)},isRowChecked:function(t){return a(this.newCheckedRows,t,this.customIsChecked)>=0},removeCheckedRow:function(t){var e=a(this.newCheckedRows,t,this.customIsChecked);e>=0&&this.newCheckedRows.splice(e,1)},checkAll:function(){var t=this,e=this.isAllChecked;this.visibleData.forEach(function(n){t.isRowCheckable(n)&&t.removeCheckedRow(n),e||t.isRowCheckable(n)&&t.newCheckedRows.push(n)}),this.$emit("check",this.newCheckedRows),this.$emit("check-all",this.newCheckedRows),this.$emit("update:checkedRows",this.newCheckedRows)},checkRow:function(t,e,n){if(this.isRowCheckable(t)){var i=this.lastCheckedRowIndex;this.lastCheckedRowIndex=e,n.shiftKey&&null!==i&&e!==i?this.shiftCheckRow(t,e,i):this.isRowChecked(t)?this.removeCheckedRow(t):this.newCheckedRows.push(t),this.$emit("check",this.newCheckedRows,t),this.$emit("update:checkedRows",this.newCheckedRows)}},shiftCheckRow:function(t,e,n){var i=this,o=this.visibleData.slice(Math.min(e,n),Math.max(e,n)+1),s=!this.isRowChecked(t);o.forEach(function(t){i.removeCheckedRow(t),s&&i.isRowCheckable(t)&&i.newCheckedRows.push(t)})},selectRow:function(t,e){this.$emit("click",t),this.selected!==t&&this.isRowSelectable(t)&&(this.$emit("select",t,this.selected),this.$emit("update:selected",t))},toggleDetails:function(t){this.isVisibleDetailRow(t)?(this.closeDetailRow(t),this.$emit("details-close",t)):(this.openDetailRow(t),this.$emit("details-open",t)),this.$emit("update:openedDetailed",this.visibleDetailRows)},openDetailRow:function(t){var e=this.handleDetailKey(t);this.visibleDetailRows.push(e)},closeDetailRow:function(t){var e=this.handleDetailKey(t),n=this.visibleDetailRows.indexOf(e);n>=0&&this.visibleDetailRows.splice(n,1)},isVisibleDetailRow:function(t){var e=this.handleDetailKey(t);return this.visibleDetailRows.indexOf(e)>=0},isActiveDetailRow:function(t){return this.detailed&&!this.customDetailRow&&this.isVisibleDetailRow(t)},isActiveCustomDetailRow:function(t){return this.detailed&&this.customDetailRow&&this.isVisibleDetailRow(t)},isRowFiltered:function(t){var n=this,i=function(e){if(!n.filters[e])return"continue";var i=n.filters[e],o=n.newColumns.filter(function(t){return t.field===e})[0];if(o&&o.customSearch&&"function"==typeof o.customSearch){if(!o.customSearch(t,i))return{v:!1}}else{var s=n.getValueByPath(t,e);if(null==s)return{v:!1};if(!Number.isInteger(s)){var r=new RegExp(function(t){return t?t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):t}(i),"i"),a=function(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}(s);return{v:r.test(a)||r.test(s)}}if(s!==Number(i))return{v:!1}}};for(var o in this.filters){var s=i(o);switch(s){case"continue":continue;default:if("object"===e(s))return s.v}}return!0},handleDetailKey:function(t){var e=this.detailKey;return e.length&&t?t[e]:t},checkPredefinedDetailedRows:function(){if(this.openedDetailed.length>0&&!this.detailKey.length)throw new Error('If you set a predefined opened-detailed, you must provide a unique key using the prop "detail-key"')},checkSort:function(){if(this.newColumns.length&&this.firstTimeSort)this.initSort(),this.firstTimeSort=!1;else if(this.newColumns.length&&Object.keys(this.currentSortColumn).length>0)for(var t=0;t<this.newColumns.length;t++)if(this.newColumns[t].field===this.currentSortColumn.field){this.currentSortColumn=this.newColumns[t];break}},hasCustomFooterSlot:function(){if(this.$slots.footer.length>1)return!0;var t=this.$slots.footer[0].tag;return"th"===t||"td"===t},hasBottomLeftSlot:function(){return void 0!==this.$slots["bottom-left"]},pressedArrow:function(t){if(this.visibleData.length){var e=this.visibleData.indexOf(this.selected)+t;e=e<0?0:e>this.visibleData.length-1?this.visibleData.length-1:e;var n=this.visibleData[e];if(this.isRowSelectable(n))this.selectRow(n);else{var i=null;if(t>0)for(var o=e;o<this.visibleData.length&&null===i;o++)this.isRowSelectable(this.visibleData[o])&&(i=o);else for(var s=e;s>=0&&null===i;s--)this.isRowSelectable(this.visibleData[s])&&(i=s);i>=0&&this.selectRow(this.visibleData[i])}}},focus:function(){this.focusable&&this.$el.querySelector("table").focus()},initSort:function(){var t=this;if(this.sortMultiple&&this.sortMultipleData)this.sortMultipleData.forEach(function(e){t.sortMultiColumn(e)});else{if(!this.defaultSort)return;var e="",n=this.defaultSortDirection;Array.isArray(this.defaultSort)?(e=this.defaultSort[0],this.defaultSort[1]&&(n=this.defaultSort[1])):e=this.defaultSort;var i=this.newColumns.filter(function(t){return t.field===e})[0];i&&(this.isAsc="desc"!==n.toLowerCase(),this.sort(i,!0))}},handleDragStart:function(t,e,n){this.canDragRow&&(this.isDraggingRow=!0,this.$emit("dragstart",{event:t,row:e,index:n}))},handleDragEnd:function(t,e,n){this.canDragRow&&(this.isDraggingRow=!1,this.$emit("dragend",{event:t,row:e,index:n}))},handleDrop:function(t,e,n){this.canDragRow&&this.$emit("drop",{event:t,row:e,index:n})},handleDragOver:function(t,e,n){this.canDragRow&&this.$emit("dragover",{event:t,row:e,index:n})},handleDragLeave:function(t,e,n){this.canDragRow&&this.$emit("dragleave",{event:t,row:e,index:n})},emitEventForRow:function(t,e,n){return this.$listeners[t]?this.$emit(t,n,e):null},handleColumnDragStart:function(t,e,n){this.canDragColumn&&(this.isDraggingColumn=!0,this.$emit("columndragstart",{event:t,column:e,index:n}))},handleColumnDragEnd:function(t,e,n){this.canDragColumn&&(this.isDraggingColumn=!1,this.$emit("columndragend",{event:t,column:e,index:n}))},handleColumnDrop:function(t,e,n){this.canDragColumn&&this.$emit("columndrop",{event:t,column:e,index:n})},handleColumnDragOver:function(t,e,n){this.canDragColumn&&this.$emit("columndragover",{event:t,column:e,index:n})},handleColumnDragLeave:function(t,e,n){this.canDragColumn&&this.$emit("columndragleave",{event:t,column:e,index:n})},refreshSlots:function(){this.defaultSlots=this.$slots.default||[]}},mounted:function(){this.refreshSlots(),this.checkPredefinedDetailedRows(),this.checkSort()}},void 0,!1,void 0,!1,void 0,void 0,void 0);var P,A=function(t,e){t.component(e.name,e)},V={install:function(t){void 0===p&&function(t){p=t}(t),A(t,I),A(t,$)}};P=V,"undefined"!=typeof window&&window.Vue&&window.Vue.use(P),t.GovTable=I,t.GovTableColumn=$,t.default=V,Object.defineProperty(t,"__esModule",{value:!0})});
