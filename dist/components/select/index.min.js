/*! Gov v0.1.0 | MIT License | github.com/gov/gov */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Select={})}(this,function(e){"use strict";const t=function(e,t,n,i,o,r,u,s,a,l){"boolean"!=typeof u&&(a=s,s=u,u=!1);var d,c="function"==typeof n?n.options:n;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),i&&(c._scopeId=i),r?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=d):t&&(d=u?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),d)if(c.functional){var f=c.render;c.render=function(e,t){return d.call(t),f(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,d):[d]}return n}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",e._b({directives:[{name:"model",rawName:"v-model",value:e.computedValue,expression:"computedValue"}],ref:"select",attrs:{id:e.uniqueId,multiple:e.multiple},on:{blur:e.onBlur,focus:e.onFocus,change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.computedValue=t.target.multiple?n:n[0]}}},"select",e.$attrs,!1),[e.placeholder?[null==e.computedValue?n("option",{attrs:{disabled:"",hidden:""},domProps:{value:null}},[e._v(" "+e._s(e.placeholder)+" ")]):e._e()]:e._e(),e._t("default")],2)},staticRenderFns:[]},void 0,{name:"GovSelect",mixins:[{mixins:[{props:{validationMessage:{type:[String,Array],required:!1,default:null}},mounted:function(){var e=this;this.$nextTick(function(){return e.prepareValidity()})},watch:{validationMessage:function(){this.prepareValidity()}},computed:{parentField:function(){for(var e=this.$parent,t=0;t<3;t++)e&&!e.$data._isField&&(e=e.$parent);return e},childField:function(){var e=this.$children.filter(function(e){return e.$data._isField});return e.length?e[0]:null}},methods:{prepareValidity:function(){var e=this.validationMessage;Array.isArray(e)&&e.length||"string"==typeof e?this.setValidity(e):this.setValidity(null)},setValidity:function(e){var t=this;this.$nextTick(function(){var n=t.childField||t.parentField;n&&(n.errorMessage=e)})}}}],props:{autocomplete:{type:String,required:!1,default:void 0},maxlength:{type:[Number,String],required:!1,default:void 0},customUniqueId:{type:[String,Number],required:!1,default:null}},data:function(){return{uniqueId:null,isFocused:!1}},mounted:function(){this.uniqueId=this.customUniqueId||"input_"+function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*i));return t}()},watch:{uniqueId:function(){this.swtUniqueId()}},computed:{parentField:function(){for(var e=this.$parent,t=0;t<3;t++)e&&!e.$data._isField&&(e=e.$parent);return e}},methods:{focus:function(){var e=this.getElement();void 0!==e&&this.$nextTick(function(){e&&e.focus()})},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},getElement:function(){for(var e,t=this.$refs[this.$data._elementRef];(e=t)&&e._isVue;)t=t.$refs[t.$data._elementRef];return t},setNotEmpty:function(e){var t=this;this.$nextTick(function(){t.parentField&&(t.parentField.notEmpty=e)})},swtUniqueId:function(){var e=this;this.$nextTick(function(){e.parentField&&(e.parentField.uniqueId=e.uniqueId)})}}}],inheritAttrs:!1,props:{value:{type:[String,Number,Boolean,Object,Array,Function,Date],default:null},placeholder:String,multiple:Boolean},data:function(){return{selected:this.value,_elementRef:"select",_isSelect:!0}},computed:{computedValue:{get:function(){return this.selected},set:function(e){this.selected=e,this.$emit("input",e),this.calculateNotEmpty()}}},watch:{value:function(e){this.selected=e}},methods:{calculateNotEmpty:function(){this.setNotEmpty(this.isFocused||this.selected)}},mounted:function(){this.calculateNotEmpty();var e=this.$refs.select.querySelector("option:first-of-type");e&&String(e.textContent).length&&this.setNotEmpty(!0)}},void 0,!1,void 0,!1,void 0,void 0,void 0);var n,i={install:function(e){!function(e,t){e.component(t.name,t)}(e,t)}};n=i,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),e.GovSelect=t,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})});
